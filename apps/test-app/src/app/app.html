<header class="app-header">
  <h1>Angular Material Theming Demo</h1>
</header>
<app-theme-toggle />

<main class="app-content">

  <!-- Buttons Section -->
  <section class="component-section">
    <h2>Buttons</h2>
    <div class="demo-row">
      <lib-button label="Text" variant="text" size="md" (action)="handleAction($event)"></lib-button>
      <lib-button label="Elevated" variant="elevated" size="md" (action)="handleAction($event)"></lib-button>
      <lib-button label="Filled" variant="filled" size="md" (action)="handleAction($event)"></lib-button>
      <lib-button label="Outlined" variant="outlined" size="md" (action)="handleAction($event)"></lib-button>
      <lib-button label="Icon" variant="icon" icon="favorite" size="md" (action)="handleAction($event)"></lib-button>
    </div>
  </section>

  <!-- Cards Section -->
  <section class="component-section full-width">
    <h2>Cards - Componente Personalizado</h2>

    <h3>Variantes de Elevación</h3>
    <div
      style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; margin-bottom: 24px;">

      <lib-card elevation="flat" size="md">
        <mat-card-title card-title>Card Flat</mat-card-title>
        <mat-card-subtitle card-subtitle>Sin sombra, con borde sutil</mat-card-subtitle>
        <div card-content>
          <p>Esta card tiene elevación "flat" - perfecta para interfaces minimalistas.</p>
        </div>
        <div card-actions>
          <button mat-button>VER MÁS</button>
        </div>
      </lib-card>

      <lib-card elevation="raised" size="md">
        <mat-card-title card-title>Card Raised</mat-card-title>
        <mat-card-subtitle card-subtitle>Con sombra elevada</mat-card-subtitle>
        <div card-content>
          <p>Esta card tiene elevación "raised" - da sensación de profundidad y jerarquía.</p>
        </div>
        <div card-actions>
          <button mat-button>VER MÁS</button>
        </div>
      </lib-card>

      <lib-card elevation="outlined" size="md">
        <mat-card-title card-title>Card Outlined</mat-card-title>
        <mat-card-subtitle card-subtitle>Con borde prominente</mat-card-subtitle>
        <div card-content>
          <p>Esta card tiene elevación "outlined" - ideal para destacar sin sombras.</p>
        </div>
        <div card-actions>
          <button mat-button>VER MÁS</button>
        </div>
      </lib-card>

    </div>

    <h3>Variantes de Tamaño</h3>
    <div
      style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; margin-bottom: 24px;">

      <lib-card elevation="raised" size="sm">
        <mat-card-title card-title>Card Pequeña</mat-card-title>
        <div card-content>
          <p>Tamaño compacto (sm)</p>
        </div>
        <div card-actions>
          <button mat-button>ACCIÓN</button>
        </div>
      </lib-card>

      <lib-card elevation="raised" size="md">
        <mat-card-title card-title>Card Mediana</mat-card-title>
        <div card-content>
          <p>Tamaño estándar (md)</p>
        </div>
        <div card-actions>
          <button mat-button>ACCIÓN</button>
        </div>
      </lib-card>

      <lib-card elevation="raised" size="lg">
        <mat-card-title card-title>Card Grande</mat-card-title>
        <div card-content>
          <p>Tamaño espacioso (lg)</p>
        </div>
        <div card-actions>
          <button mat-button>ACCIÓN</button>
        </div>
      </lib-card>

    </div>


    <h3>Card Clickeable</h3>
    <div
      style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; margin-bottom: 24px;">

      <lib-card elevation="raised" size="md" [clickable]="true">
        <mat-card-title card-title>Card Interactiva</mat-card-title>
        <mat-card-subtitle card-subtitle>Pasa el mouse para ver el efecto</mat-card-subtitle>
        <div card-content>
          <p>Esta card es clickeable y tiene efectos hover. Ideal para navegación o selección.</p>
        </div>
      </lib-card>

      <lib-card elevation="outlined" size="md" [clickable]="true">
        <mat-card-title card-title>Otra Card Clickeable</mat-card-title>
        <mat-card-subtitle card-subtitle>Con borde outlined</mat-card-subtitle>
        <div card-content>
          <p>Combina diferentes estilos con la funcionalidad clickeable.</p>
        </div>
      </lib-card>

    </div>

  </section>

  <!-- Table Section -->
  <section class="component-section">
    <h2>Table</h2>
    <div class="demo-row">
      <div class="user-management">
        <header class="page-header">
          <h1>Gestión de Usuarios</h1>
          <lib-button icon="add" label="Agregar Usuario" variant="filled" size="md" (action)="addUser()"></lib-button>
        </header>

        <lib-table [columns]="tableColumns" [actions]="tableActions" [config]="tableConfig" [data]="users"
          [expandedRowTemplate]="expandedRowTemplate" (sortChange)="onSort($event)" (pageChange)="onPageChange($event)"
          (selectionChange)="onSelectionChange($event)" (actionClick)="onActionClick($event)">
        </lib-table>

        <!-- Custom Templates -->
        <ng-template #avatarTemplate let-row>
          <div class="user-avatar-cell">
            @if (row.avatar) {
            <img [src]="row.avatar" [alt]="row.name" class="avatar">
            } @else {
            <div class="avatar-placeholder">
              {{ getInitials(row.name) }}
            </div>
            }
            <span>{{ row.name }}</span>
          </div>
        </ng-template>

        <ng-template #statusTemplate let-row>
          <mat-chip-set>
            <mat-chip [highlighted]="true" [class]="'status-' + row.status">
              <mat-icon [class]="'status-icon-' + row.status">
                {{ getStatusIcon(row.status) }}
              </mat-icon>
              {{ getStatusLabel(row.status) }}
            </mat-chip>
          </mat-chip-set>
        </ng-template>

        <ng-template #roleTemplate let-row>
          <mat-chip-set>
            <mat-chip [class]="'role-' + row.role">
              {{ getRoleLabel(row.role) }}
            </mat-chip>
          </mat-chip-set>
        </ng-template>

        <ng-template #salaryTemplate let-row>
          <span class="salary-cell">
            {{ row.salary }}
          </span>
        </ng-template>

        <ng-template #expandedRowTemplate let-row>
          <div class="expanded-row-content">
            <div class="expanded-header">
              <mat-icon class="user-icon">person</mat-icon>
              <h3>Detalles de {{ row.name }}</h3>
            </div>

            <div class="expanded-body">
              <div class="expanded-section">
                <h4>
                  <mat-icon>info</mat-icon>
                  Información Personal
                </h4>
                <div class="info-grid">
                  <div class="info-item">
                    <mat-icon>badge</mat-icon>
                    <div>
                      <label>ID</label>
                      <span>{{ row.id }}</span>
                    </div>
                  </div>
                  <div class="info-item">
                    <mat-icon>email</mat-icon>
                    <div>
                      <label>Email</label>
                      <span>{{ row.email }}</span>
                    </div>
                  </div>
                  <div class="info-item">
                    <mat-icon>business</mat-icon>
                    <div>
                      <label>Departamento</label>
                      <span>{{ row.department }}</span>
                    </div>
                  </div>
                  <div class="info-item">
                    <mat-icon>event</mat-icon>
                    <div>
                      <label>Fecha de Ingreso</label>
                      <span>{{ row.joinDate }}</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="expanded-section">
                <h4>
                  <mat-icon>work</mat-icon>
                  Información Laboral
                </h4>
                <div class="info-grid">
                  <div class="info-item">
                    <mat-icon>work</mat-icon>
                    <div>
                      <label>Rol</label>
                      <span>{{ getRoleLabel(row.role) }}</span>
                    </div>
                  </div>
                  <div class="info-item">
                    <mat-icon>payments</mat-icon>
                    <div>
                      <label>Salario</label>
                      <span>{{ row.salary }}</span>
                    </div>
                  </div>
                  <div class="info-item">
                    <mat-icon>analytics</mat-icon>
                    <div>
                      <label>Estado</label>
                      <span>{{ getStatusLabel(row.status) }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </div>
    </div>
  </section>

  <!-- Advanced Theme Verification Section -->
  <section class="component-section full-width">
    <h2>Verificación de Variables Avanzadas</h2>
    <p>Esta sección demuestra el uso de variables avanzadas (Surface Containers, Fixed Colors) que están disponibles en
      tu tema.</p>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">

      <!-- Surface Containers Demo -->
      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-surface-container-lowest); color: var(--mat-sys-on-surface);">
        <strong>Lowest</strong>
        <br>--mat-sys-surface-container-lowest
      </div>
      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-surface-container); color: var(--mat-sys-on-surface);">
        <strong>Default</strong>
        <br>--mat-sys-surface-container
      </div>
      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-surface-container-high); color: var(--mat-sys-on-surface);">
        <strong>High</strong>
        <br>--mat-sys-surface-container-high
      </div>
      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-surface-container-highest); color: var(--mat-sys-on-surface);">
        <strong>Highest</strong>
        <br>--mat-sys-surface-container-highest
      </div>

      <!-- Fixed Colors Demo -->
      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-primary-fixed); color: var(--mat-sys-on-primary-fixed);">
        <strong>Primary Fixed</strong>
        <br>--mat-sys-primary-fixed
      </div>
      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-tertiary-fixed); color: var(--mat-sys-on-tertiary-fixed);">
        <strong>Tertiary Fixed</strong>
        <br>--mat-sys-tertiary-fixed
      </div>

    </div>
  </section>


  <!-- Error & Utilities Demo -->
  <section class="component-section full-width">
    <h2>Verificación de Errores y Utilidades</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">

      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-error); color: var(--mat-sys-on-error);">
        <strong>Error</strong>
        <br>--mat-sys-error
      </div>

      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-error-container); color: var(--mat-sys-on-error-container);">
        <strong>Error Container</strong>
        <br>--mat-sys-error-container
      </div>

      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-surface-dim); color: var(--mat-sys-on-surface);">
        <strong>Surface Dim</strong>
        <br>--mat-sys-surface-dim
      </div>

      <div
        style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-surface-bright); color: var(--mat-sys-on-surface);">
        <strong>Surface Bright</strong>
        <br>--mat-sys-surface-bright
      </div>

      <div style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-scrim); color: white;">
        <strong>Scrim</strong>
        <br>--mat-sys-scrim
      </div>

      <div style="padding: 16px; border-radius: 8px; background-color: var(--mat-sys-shadow); color: white;">
        <strong>Shadow</strong>
        <br>--mat-sys-shadow
      </div>

    </div>
  </section>

</main>